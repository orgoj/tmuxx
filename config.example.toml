# tmuxx Configuration
# User: Michael Heca (orgoj)

# Polling interval in milliseconds
poll_interval_ms = 2000

# Number of lines to capture from each pane
# capture_lines = 100

# Whether to show detached tmux sessions
show_detached_sessions = true

# Enable debug logging in TUI
# debug_mode = true

# Line truncation in preview
truncate_long_lines = true

# Enable TODO file reading from project root
todo_from_file = true
todo_files = ["TODO.md", "NOTES.md", "README.md", "TASKS.md"]

# Key bindings configuration
[key_bindings]

# Approval keys (keep defaults)
# y = "approve"
Y = "approve"
# n = "reject"
N = "reject"
# a = "approve_all"
#A = "approve_all"

# Number choices (defaults)
"0" = { send_number = 0 }
"1" = { send_number = 1 }
"2" = { send_number = 2 }
"3" = { send_number = 3 }
"4" = { send_number = 4 }
"5" = { send_number = 5 }
"6" = { send_number = 6 }
"7" = { send_number = 7 }
"8" = { send_number = 8 }
"9" = { send_number = 9 }

# Navigation: j/k send arrow keys to tmux pane instead of navigating
# (use arrow keys ↓/↑ or Tab for navigation in tmuxx)
i = { send_keys = "Up" }
k = { send_keys = "Down" }
j = { send_keys = "Left" }
l = { send_keys = "Right" }

# Special keys - send to tmux pane (all uppercase for consistency)
C = { send_keys = "C-c" }
D = { send_keys = "C-d" }
E = { send_keys = "Escape" }
G = { send_keys = "C-g" }
M = { send_keys = "Enter" }
K = { kill_app = { method = "sigterm" } } # Kill application in pane (SIGTERM)
T = { send_keys = "Tab" }
"M-t" = { send_keys = "S-Tab" }

# commands
a = { execute_command = { command = "zed -n ${SESSION_DIR}/TODO.md" } }
A = { execute_command = { command = "zed -n ${SESSION_DIR}/.dippy" } }
e = { execute_command = { command = "pcmanfm-qt ${SESSION_DIR}" } }
d = { execute_command = { command = "lazyclaude -m --directory '${SESSION_DIR}'", terminal = true } }
g = { execute_command = { command = "git gui" } }
t = { execute_command = { command = "wezterm start -- bash -lc 'tmux attach -t ${PANE_TARGET}'" } }
v = { execute_command = { command = "code ${SESSION_DIR}" } }
z = { execute_command = { command = "zed ${SESSION_DIR}" } }


[menu]
[[menu.items]]
name = "Main"
[[menu.items.items]]
name = "Dippy user dir"
execute_command = { command = "zed ~/.dippy/" }

[[menu.items]]
name = "Tmuxx"
[[menu.items.items]]
name = "User config zed"
execute_command = { command = "zed ~/.config/tmuxx/" }
[[menu.items.items]]
name = "Src zed"
execute_command = { command = "zed ~/projects/tmuxx" }
